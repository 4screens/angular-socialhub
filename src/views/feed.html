<div class="engagehub-iframe" data-ng-if="!!detail">
  <div class="engagehub-iframe--wrapper">
    <div class="engagehub-iframe--navigation">
      <a href="" data-ng-click="closeSocial()" class="engagehub-iframe--close">
        <span class="fa-stack fa-lg fa-stack-2x">
          <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
          <i class="fa fa-times fa-stack-1x"></i>
        </span>
      </a>
    </div>
    <div class="engagehub-iframe--content"
      ng-style="{
        'font-family': sh.config.theme.descriptionFont,
        'background-color': sh.config.theme.cardBackgroundColor
      }"
    >
      <figcaption class="engagehub-tile--signature">
        <div class="engagehub-tile--signature-avatar">
          <img data-ng-src="{{ detail.user.avatar }}" alt="" class="img-responsive" />
          <span class="name"
            ng-bind-html="detail.user.name"
            ng-style="{
              'font-family': sh.config.theme.authorFont,
              'color': sh.config.theme.authorColor
            }"
          ></span>
          <span class="time" am-time-ago="detail.publish"></span>
        </div>
      </figcaption>
      <div class="engagehub-tile--fullimage" data-ng-if="detail.image || detail.video">
        <img data-ng-src="{{ detail.image }}" alt="" data-ng-if="!detail.video" class="img-responsive"/>
        <videogular data-ng-if="!!detail.video">
          <vg-video vg-src="detail.video"></vg-video>
          <vg-buffering></vg-buffering>
          <vg-controls vg-autohide="true" vg-autohide-time="1000">
            <vg-play-pause-button></vg-play-pause-button>
            <vg-timedisplay>{{ currentTime | date:'mm:ss' }}</vg-timedisplay>
            <vg-scrubBar>
              <vg-scrubbarcurrenttime></vg-scrubbarcurrenttime>
            </vg-scrubBar>
            <vg-timedisplay>{{ timeLeft | date:'mm:ss' }}</vg-timedisplay>
            <vg-timedisplay>{{ totalTime | date:'mm:ss' }}</vg-timedisplay>
            <vg-volume>
              <vg-mutebutton></vg-mutebutton>
              <vg-volumebar></vg-volumebar>
            </vg-volume>
            <vg-fullscreenButton></vg-fullscreenButton>
          </vg-controls>
          <vg-overlay-play></vg-overlay-play>
          <vg-poster-image vg-url="detail.image"></vg-poster-image>
        </videogular>
      </div>
      <figcaption class="engagehub-tile--signature">
        <p class="engagehub-tile--signature-caption" ng-bind-html="detail.message | emoji"></p>
      </figcaption>
    </div>
  </div>
  <div class="engagehub-iframe--background"></div>
</div>

<!-- Stream -->
<div class="engagehub-isotope engagehub-stream showApproved" ng-style="{ 'background-color': sh.config.theme.backgroundColor }">
  <article class="engagehub-tile engagehub-isotope-tile"
    ng-repeat="post in results.posts track by post.id"
    ng-class="{
      featured: post.featured,
      'not-featured': !post.featured,
      'no-image': !hasImage(post.post),
      'filter-active': keywordFilter.indexOf(post._keyword) !== -1 && keywordFilter.length,
      'filter-inactive': keywordFilter.indexOf(post._keyword) === -1 && keywordFilter.length
    }"
  >
    <figure data-ng-include="'scripts/engagehub/views/tile.html'"
      ng-style="{
        'font-family': sh.config.theme.descriptionFont,
        'background-color': sh.config.theme.cardBackgroundColor
      }"
    ></figure>
    <div class="approvedStatus"
      data-ng-class="{
        'btn-success': post.approved,
        'btn-danger': !post.approved
      }"
    ></div>

    <div class="engagehub-tile--overflow" data-ng-class="{approved: post.approved, 'not-approved': !post.approved}">
      <div class="engagehub-tile--overflow-mask" data-ng-click="openSocial(post)"></div>
      <div class="btn-group">
        <button type="button" class="btn btn-default btn-transparent" data-ng-click="approvePost(post)">
          <i class="fa" data-ng-class="post.approved ? 'fa-times' : 'fa-check'"></i>
        </button>
        <button type="button" class="btn btn-default btn-transparent" data-ng-click="featurePost(post)">
          <i class="fa" data-ng-class="post.featured ? 'fa-star' : 'fa-star-o'"></i>
        </button>
        <button type="button" class="btn btn-default btn-transparent" data-ng-click="openSocial(post)">
          <i class="fa fa-search"></i>
        </button>
        <button type="button" class="btn btn-default btn-transparent" data-ng-click="remove(post)">
          <i class="fa fa-trash"></i>
        </button>
        <button type="button" class="btn btn-default btn-transparent" data-ng-click="addCommerceUrlModal(post)">
          <i class="fa" data-ng-class="{'fa-tag': !post.commerceUrl, 'fa-tags': post.commerceUrl }"></i>
        </button>
      </div>
    </div>

  </article>
</div>
<!--/Stream -->

<!-- Loader -->
<div class="engagehub-preloader text-center" data-ng-if="!complete.value" ng-style="{ 'background-color': sh.config.theme.backgroundColor }">
  <i class="fa fa-spinner fa-spin"></i>
</div>
<!--/Loader -->
